<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ajude a traduzir Where Winds Meet para Portugu√™s Brasileiro">
    <meta name="keywords" content="Where Winds Meet, WWM, tradu√ß√£o, portugu√™s, Brasil, PT-BR, colaborativo">
    <meta name="author" content="rodrigomiquilino">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="https://rodrigomiquilino.github.io/wwm_brasileiro/assets/og-image.png">
    
    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rodrigomiquilino.github.io/wwm_brasileiro/translate">
    <meta property="og:site_name" content="WWM Brasileiro ‚öîÔ∏è">
    <meta property="og:title" content="Contribua com a Tradu√ß√£o ‚Ä¢ WWM Brasileiro">
    <meta property="og:description" content="‚ú® Ajude a traduzir Where Winds Meet para PT-BR! Envie sugest√µes, ganhe cr√©ditos e fa√ßa parte da comunidade.">
    <meta property="og:image" content="https://rodrigomiquilino.github.io/wwm_brasileiro/assets/og-image.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="WWM Brasileiro - Contribua com a Tradu√ß√£o">
    <meta property="og:locale" content="pt_BR">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Contribua com a Tradu√ß√£o ‚Ä¢ WWM Brasileiro">
    <meta name="twitter:description" content="‚ú® Ajude a traduzir Where Winds Meet para PT-BR!">
    <meta name="twitter:image" content="https://rodrigomiquilino.github.io/wwm_brasileiro/assets/og-image.png">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#c9a227">
    
    <title>Traduzir | WWM Brasileiro</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Shared Styles -->
    <link rel="stylesheet" href="assets/css/shared.css">
    <!-- Page Specific Styles -->
    <link rel="stylesheet" href="assets/css/translate.css">
</head>
<body style="overflow: hidden;">
    <!-- üèÜ MODAL DE CELEBRA√á√ÉO - LAN√áAMENTO OFICIAL DA TRADU√á√ÉO üèÜ -->
    <div class="celebration-modal-overlay" id="celebration-modal">
        <div class="celebration-particles">
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
            <span class="celebration-particle"></span>
        </div>
        
        <div class="celebration-modal">
            <div class="celebration-header">
                <span class="celebration-trophy">üèÜ</span>
                <div class="celebration-header-text">
                    <h1 class="celebration-title">Tradu√ß√£o Oficial Lan√ßada!</h1>
                    <p class="celebration-subtitle">
                        <i class="fas fa-heart"></i> Where Winds Meet agora em PT-BR oficial
                    </p>
                </div>
            </div>
            
            <div class="celebration-body">
                <div class="celebration-message" style="display: grid;">
                    <p><span class="heart">‚ù§Ô∏è</span> <strong>Meus queridos guerreiros...</strong></p>
                    <p style="align-content: center;">√â com emo√ß√£o que anuncio: <span class="highlight">a tradu√ß√£o oficial foi lan√ßada!</span></p>
                    <p style="align-content: center;">O que era um sonho solit√°rio se tornou uma <span class="highlight">comunidade incr√≠vel</span> de apaixonados pelo universo Wuxia.</p>
                    <p style="align-content: center;">Cada linha traduzida, voc√™s fizeram acontecer. Este projeto ser√° <span class="highlight">meu legado</span> e de todos! <span class="heart">‚öîÔ∏è</span></p>
                    <div class="celebration-signature" style="align-content: center;">
                        <div class="celebration-signature-name">‚Äî @rodrigomiquilino</div>
                        <div class="celebration-signature-role">Criador do WWM Brasileiro</div>
                    </div>
                </div>
                
                <div class="celebration-heroes">
                    <h3 class="celebration-heroes-title">
                        <i class="fas fa-crown"></i> Her√≥is do Projeto <i class="fas fa-crown"></i>
                    </h3>
                    <div class="celebration-devs">
                        <div class="celebration-dev lead">
                            <div class="celebration-dev-badge">üëë</div>
                            <img src="https://github.com/rodrigomiquilino.png" alt="rodrigomiquilino" class="celebration-dev-avatar">
                            <div class="celebration-dev-name">@rodrigomiquilino</div>
                            <div class="celebration-dev-role">Criador</div>
                        </div>
                        <div class="celebration-dev secondary">
                            <div class="celebration-dev-badge">üõ°Ô∏è</div>
                            <img src="https://github.com/DOG729.png" alt="DOG729" class="celebration-dev-avatar">
                            <div class="celebration-dev-name">@DOG729</div>
                            <div class="celebration-dev-role">Base RU</div>
                        </div>
                    </div>
                    <div class="celebration-contributors">
                        <div class="celebration-contributors-label">üéñÔ∏è Ranking de Tradutores</div>
                        <div class="celebration-contributors-list" id="celebration-contributors-list">
                            <div class="celebration-contributors-loading">
                                <i class="fas fa-spinner fa-spin"></i> Carregando...
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="celebration-links">
                    <a href="https://discord.gg/dNKt7RA5U7" target="_blank" rel="noopener" class="celebration-link discord">
                        <i class="fab fa-discord"></i> Discord
                    </a>
                    <a href="https://store.steampowered.com/app/3564740/Where_Winds_Meet/" target="_blank" rel="noopener" class="celebration-link steam">
                        <i class="fab fa-steam"></i> Steam
                    </a>
                    <a href="https://store.epicgames.com/pt-BR/p/where-winds-meet" target="_blank" rel="noopener" class="celebration-link epic">
                        <i class="fas fa-gamepad"></i> Epic
                    </a>
                    <a href="https://github.com/rodrigomiquilino/wwm_brasileiro" target="_blank" rel="noopener" class="celebration-link github">
                        <i class="fab fa-github"></i> Github
                    </a>
                </div>
            </div>
            
            <div class="celebration-footer">
                <p class="celebration-footer-text">"Onde os ventos se encontram, <span class="gold">her√≥is ascendem</span>" ‚öîÔ∏è</p>
            </div>
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <a href="index" class="nav-logo">
                <i class="fas fa-torii-gate"></i>
                WWM Brasileiro
            </a>
            <div class="nav-links">
                <a href="index"><i class="fas fa-home"></i> In√≠cio</a>
                <a href="index#download"><i class="fas fa-download"></i> Download</a>
                <a href="glossary"><i class="fas fa-book"></i> Gloss√°rio</a>
                <a href="https://github.com/rodrigomiquilino/wwm_brasileiro" target="_blank" rel="noopener">
                    <i class="fab fa-github"></i> GitHub
                </a>
                <button id="github-auth-btn" class="github-login-btn" onclick="handleGitHubAuth()">
                    <i class="fab fa-github"></i> Entrar com GitHub
                </button>
            </div>
        </div>
    </nav>

    <main>
        <div class="container">
            <div class="page-header">
                <h1><i class="fas fa-language"></i> Tradu√ß√£o Colaborativa</h1>
                <p>Ajude a traduzir Where Winds Meet para Portugu√™s Brasileiro</p>
            </div>
            
            <div class="how-to-help">
                <h3><i class="fas fa-question-circle"></i> Como ajudar?</h3>
                <ol>
                    <li>Use os filtros para encontrar linhas <strong>Pendentes</strong> ou busque por ID/texto</li>
                    <li>Clique no bot√£o <strong>"Sugerir"</strong> ao lado da linha que deseja traduzir</li>
                    <li>Digite sua sugest√£o e clique em <strong>"Adicionar ao Lote"</strong></li>
                    <li>Repita para quantas linhas quiser</li>
                    <li>Clique no <strong>bot√£o dourado</strong> no canto inferior direito para enviar todas!</li>
                </ol>
            </div>
            
            <!-- Aba Admin (apenas vis√≠vel para owner) -->
            <div class="admin-tab-container">
                <button class="file-tab" data-file="admin" id="admin-tab" style="display: none;">
                    <i class="fas fa-user-shield"></i> Admin Issues
                </button>
            </div>
            
            <!-- Barra de Progresso Visual -->
            <div class="progress-bar-container">
                <div class="progress-bar-header">
                    <span class="progress-bar-title"><i class="fas fa-chart-line"></i> Progresso da Tradu√ß√£o</span>
                    <span class="progress-bar-percent" id="progress-percent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                <div class="progress-bar-stats">
                    <span><i class="fas fa-check"></i> <span id="progress-done">0</span> traduzidas</span>
                    <span><i class="fas fa-clock"></i> <span id="progress-pending">0</span> pendentes</span>
                    <span><i class="fas fa-list"></i> <span id="progress-total">0</span> total</span>
                </div>
            </div>
            
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value" id="stat-total">-</div>
                    <div class="stat-label">Total de Linhas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="stat-translated">-</div>
                    <div class="stat-label">Traduzidas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="stat-pending">-</div>
                    <div class="stat-label">Pendentes</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="stat-progress">-</div>
                    <div class="stat-label">Progresso</div>
                </div>
            </div>
            
            <div class="controls">
                <div class="controls-row">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-input" placeholder="Buscar por ID ou texto...">
                    </div>
                    <div class="filter-group">
                        <button class="filter-btn active" data-filter="all">Todos</button>
                        <button class="filter-btn" data-filter="pending">Pendentes</button>
                        <button class="filter-btn" data-filter="translated">Traduzidos</button>
                    </div>
                </div>
            </div>
            
            <div class="table-container">
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <p>Carregando tradu√ß√µes...</p>
                </div>
                <div class="table-scroll hidden" id="table-scroll">
                    <table>
                        <thead>
                            <tr>
                                <th class="col-id">ID</th>
                                <th class="col-original">Original (EN)</th>
                                <th class="col-translation">Tradu√ß√£o (PT-BR)</th>
                                <th class="col-actions">A√ß√£o</th>
                            </tr>
                        </thead>
                        <tbody id="table-body">
                        </tbody>
                    </table>
                </div>
                <div class="pagination" id="pagination">
                </div>
            </div>
            
            <!-- Painel Administrativo (vis√≠vel apenas para o dono do reposit√≥rio) -->
            <div id="admin-panel" class="hidden">
                <div class="contributors-section admin-panel-container">
                    <div class="admin-header-row">
                        <div class="admin-title-section">
                            <h2><i class="fas fa-user-shield"></i> Painel Admin ‚Äî Issues de Tradu√ß√£o</h2>
                            <p class="contributors-subtitle">Apenas vis√≠vel para o dono do projeto. Aqui voc√™ pode revisar, editar e aprovar/rejeitar issues.</p>
                        </div>
                        <div class="admin-refresh-section" id="admin-refresh-section">
                            <div class="admin-countdown" id="admin-countdown" title="Pr√≥xima verifica√ß√£o autom√°tica">
                                <i class="fas fa-sync-alt"></i>
                                <span id="countdown-timer">2:00</span>
                            </div>
                            <button class="admin-refresh-btn" onclick="manualCheckNewIssues()" title="Verificar agora">
                                <i class="fas fa-search"></i> Verificar
                            </button>
                        </div>
                    </div>
                    <div id="admin-loading" class="loading hidden">
                        <div class="spinner"></div>
                        <p>Carregando issues...</p>
                    </div>
                    <div id="admin-list"></div>
                </div>
            </div>

            <div class="contributors-section">
                <h2><i class="fas fa-trophy"></i> Hall da Fama</h2>
                <p class="contributors-subtitle">Os guerreiros que est√£o traduzindo Where Winds Meet</p>
                
                <div class="hall-container" id="hall-container">
                    <div class="hall-loading">
                        <i class="fas fa-spinner fa-spin"></i> Carregando Hall da Fama...
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <p>
            Feito com ‚ù§Ô∏è pela comunidade brasileira de Where Winds Meet<br>
            <a href="https://github.com/rodrigomiquilino/wwm_brasileiro" target="_blank" rel="noopener">GitHub</a> ‚Ä¢
            <a href="index">Voltar ao in√≠cio</a>
        </p>
    </footer>
    
    <!-- Modal de Sugest√£o de Tradu√ß√£o -->
    <div class="modal-overlay" id="suggestion-modal">
        <div class="suggestion-box">
            <div class="modal-header">
                <h3><i class="fas fa-lightbulb"></i> Sugerir Tradu√ß√£o</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- LEFT PANEL - Source Info -->
                <div class="left-panel">
                    <div class="panel-title source">
                        <i class="fas fa-file-alt"></i> Texto Original
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-fingerprint"></i> ID da Linha</label>
                        <div class="id-display" id="modal-id">-</div>
                        <input type="hidden" id="modal-file">
                        <input type="hidden" id="modal-line">
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-globe"></i> Texto Original (Ingl√™s)</label>
                        <textarea class="form-control readonly-text" id="modal-original" readonly></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-language"></i> Tradu√ß√£o Atual (PT-BR)</label>
                        <textarea class="form-control readonly-text" id="modal-current" readonly></textarea>
                    </div>
                    
                    <!-- Gloss√°rio Hints -->
                    <div class="form-group glossary-hints" id="glossary-hints" style="display: none;">
                        <label><i class="fas fa-book"></i> Termos do Gloss√°rio</label>
                        <div class="glossary-terms-list" id="glossary-terms-list"></div>
                    </div>
                    
                    <!-- Edi√ß√£o em Massa (Duplicatas) -->
                    <div class="form-group bulk-edit-section" id="bulk-edit-section" style="display: none;">
                        <div class="bulk-edit-header">
                            <i class="fas fa-clone"></i>
                            <span>Texto encontrado em <strong id="duplicate-count">0</strong> linhas</span>
                        </div>
                        <label class="bulk-checkbox">
                            <input type="checkbox" id="apply-to-all"> 
                            Aplicar tradu√ß√£o a todas as linhas iguais
                        </label>
                        <div class="duplicate-ids-list" id="duplicate-ids-list"></div>
                    </div>
                    
                    <!-- Aviso de Issues Existentes (n√£o bloqueante) -->
                    <div class="form-group existing-issues-warning" id="existing-issues-warning" style="display: none;">
                        <div class="existing-issues-header">
                            <i class="fas fa-users"></i>
                            <span>üéØ <strong id="existing-issues-count">0</strong> sugest√£o(√µes) pendente(s) para esta linha!</span>
                        </div>
                        <p class="existing-issues-hint">
                            Outras pessoas j√° sugeriram tradu√ß√µes. Sua sugest√£o ser√° adicionada √† discuss√£o!
                        </p>
                        <div class="existing-issues-list" id="existing-issues-list"></div>
                    </div>
                </div>
                
                <!-- RIGHT PANEL - Translation Input -->
                <div class="right-panel">
                    <div class="panel-title translation">
                        <i class="fas fa-edit"></i> Sua Tradu√ß√£o
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-pen"></i> Digite sua sugest√£o de tradu√ß√£o</label>
                        <textarea class="form-control suggestion-input" id="modal-suggestion" placeholder="Digite aqui sua sugest√£o de tradu√ß√£o..."></textarea>
                        <p class="form-hint">üí° Mantenha a mesma formata√ß√£o e s√≠mbolos especiais do original (ex: #Y, #E, \n)</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="keyboard-hint">
                    <kbd>Enter</kbd> adicionar ‚Ä¢ <kbd>Esc</kbd> fechar
                </div>
                <div class="btn-group">
                    <button class="btn-cancel" onclick="closeModal()">Cancelar</button>
                    <button class="btn-submit" onclick="addToCart()">
                        <i class="fas fa-plus"></i> Adicionar ao Lote
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Carrinho de Sugest√µes -->
    <div class="suggestion-cart">
        <div class="cart-panel" id="cart-panel">
            <div class="cart-header">
                <h4><i class="fas fa-clipboard-list"></i> Sugest√µes (<span id="cart-count">0</span>)</h4>
                <button class="cart-clear" onclick="clearCart()">Limpar tudo</button>
            </div>
            <div class="cart-items" id="cart-items">
                <div class="cart-empty">
                    <i class="fas fa-inbox cart-empty-icon"></i>
                    Nenhuma sugest√£o adicionada
                </div>
            </div>
            <div class="cart-footer">
                <button class="cart-submit" id="cart-submit" onclick="submitAllSuggestions()" disabled>
                    <i class="fab fa-github"></i> Enviar Todas as Sugest√µes
                </button>
            </div>
        </div>
        <button class="cart-toggle" onclick="toggleCart()" title="Ver sugest√µes pendentes">
            <i class="fas fa-clipboard-list"></i>
            <span class="cart-badge hidden" id="cart-badge">0</span>
        </button>
    </div>
    <script src="assets/js/shared.js"></script>
    <script src="assets/js/translate.js"></script>
</body>
</html>